{"version":3,"file":"encodeCall.js","sourceRoot":"","sources":["../../../test/utils/encodeCall.ts"],"names":[],"mappings":";;;;;AAAA,gNAAgN;AAChN,sDAAkE;AAClE,gDAAwB;AAExB,SAAgB,YAAY,CAC1B,QAAmC,EAAE,EACrC,YAAmB,EAAE;IAErB,OAAO,2BAAe,CAAC,MAAM,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;AAClD,CAAC;AALD,oCAKC;AAED,SAAgB,UAAU,CACxB,IAAY,EACZ,QAAmC,EAAE,EACrC,YAAmB,EAAE;IAErB,MAAM,iBAAiB,GAAG,YAAY,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;IACtE,MAAM,aAAa,GAAI,cAAI,CAAC,KAAa;SACtC,IAAI,CAAC,GAAG,IAAI,IAAI,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC;SACnC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;IAEpB,OAAO,KAAK,aAAa,GAAG,iBAAiB,EAAE,CAAC;AAClD,CAAC;AAXD,gCAWC;AAED,SAAgB,UAAU,CACxB,QAAmC,EAAE,EACrC,OAAc,EAAE;IAEhB,OAAO,2BAAe,CAAC,MAAM,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;AAC7C,CAAC;AALD,gCAKC","sourcesContent":["// TODO: Once we migrate to Web3 1.x, we could replace these two dependencies with Web3, since it uses these two under the hood: https://github.com/ethereum/web3.js/blob/1.0/packages/web3-eth-abi/src/index.js\nimport {defaultAbiCoder, ParamType} from 'ethers/utils/abi-coder';\nimport web3 from 'web3';\n\nexport function encodeParams(\n  types: Array<string | ParamType> = [],\n  rawValues: any[] = []\n): string {\n  return defaultAbiCoder.encode(types, rawValues);\n}\n\nexport function encodeCall(\n  name: string,\n  types: Array<string | ParamType> = [],\n  rawValues: any[] = []\n): string {\n  const encodedParameters = encodeParams(types, rawValues).substring(2);\n  const signatureHash = (web3.utils as any)\n    .sha3(`${name}(${types.join(',')})`)\n    .substring(2, 10);\n\n  return `0x${signatureHash}${encodedParameters}`;\n}\n\nexport function decodeCall(\n  types: Array<string | ParamType> = [],\n  data: any[] = []\n): any[] {\n  return defaultAbiCoder.decode(types, data);\n}\n"]}